{"ast":null,"code":"var _jsxFileName = \"E:\\\\react\\\\Task1\\\\api-task\\\\src\\\\Display.js\";\nimport { Component, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Display extends Component {\n  constructor(props) {\n    super(props);\n\n    this.renderTableHeader = () => {\n      return Object.keys(this.state.a[0]).map(attr => /*#__PURE__*/_jsxDEV(\"th\", {\n        children: attr.toUpperCase()\n      }, attr, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 57\n      }, this));\n    };\n\n    this.renderTableRows = () => {\n      return this.state.a.map(result => {\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: result.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: result.marketname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 21\n          }, this)]\n        }, result.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 17\n        }, this);\n      });\n    };\n\n    this.state = {\n      a: [],\n      isLoading: false,\n      isError: false\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({\n      isLoading: true\n    });\n    const response = await fetch('http://search.ams.usda.gov/farmersmarkets/v1/data.svc/zipSearch?zip=05828');\n\n    if (response.ok) {\n      const b = await response.json();\n      this.setState({\n        a: b.results,\n        isLoading: false\n      });\n    } else {\n      this.setState({\n        isError: true,\n        isLaoding: false\n      });\n    }\n  }\n\n  render() {\n    const {\n      a,\n      isLaoding,\n      isError\n    } = this.state;\n\n    if (isLaoding) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading.....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (isError) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Error....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 19\n      }, this);\n    }\n\n    return a.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: this.renderTableHeader()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: this.renderTableRows()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"No Result\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Display;","map":{"version":3,"sources":["E:/react/Task1/api-task/src/Display.js"],"names":["Component","useReducer","Display","constructor","props","renderTableHeader","Object","keys","state","a","map","attr","toUpperCase","renderTableRows","result","id","marketname","isLoading","isError","componentDidMount","setState","response","fetch","ok","b","json","results","isLaoding","render","length"],"mappings":";AAAA,SAASA,SAAT,EAAoBC,UAApB,QAAsC,OAAtC;;;AAEA,MAAMC,OAAN,SAAsBF,SAAtB,CAA+B;AAC3BG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAwBnBC,iBAxBmB,GAwBD,MAAM;AACpB,aAAOC,MAAM,CAACC,IAAP,CAAY,KAAKC,KAAL,CAAWC,CAAX,CAAa,CAAb,CAAZ,EAA6BC,GAA7B,CAAiCC,IAAI,iBAAI;AAAA,kBAAgBA,IAAI,CAACC,WAAL;AAAhB,SAASD,IAAT;AAAA;AAAA;AAAA;AAAA,cAAzC,CAAP;AAEH,KA3BkB;;AAAA,SA4BnBE,eA5BmB,GA4BF,MAAM;AACnB,aAAO,KAAKL,KAAL,CAAWC,CAAX,CAAaC,GAAb,CAAkBI,MAAM,IAAG;AAC9B,4BACI;AAAA,kCACI;AAAA,sBAAKA,MAAM,CAACC;AAAZ;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA,sBAAKD,MAAM,CAACE;AAAZ;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA,WAASF,MAAM,CAACC,EAAhB;AAAA;AAAA;AAAA;AAAA,gBADJ;AAMH,OAPM,CAAP;AAQH,KArCkB;;AAEf,SAAKP,KAAL,GAAa;AACTC,MAAAA,CAAC,EAAE,EADM;AAETQ,MAAAA,SAAS,EAAC,KAFD;AAGTC,MAAAA,OAAO,EAAC;AAHC,KAAb;AAKH;;AACuB,QAAjBC,iBAAiB,GAAE;AACtB,SAAKC,QAAL,CAAc;AAACH,MAAAA,SAAS,EAAC;AAAX,KAAd;AACA,UAAMI,QAAQ,GAAG,MAAMC,KAAK,CAAC,2EAAD,CAA5B;;AACA,QAAGD,QAAQ,CAACE,EAAZ,EAAe;AACX,YAAMC,CAAC,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAAhB;AAEA,WAAKL,QAAL,CACI;AACIX,QAAAA,CAAC,EAACe,CAAC,CAACE,OADR;AACgBT,QAAAA,SAAS,EAAC;AAD1B,OADJ;AAKH,KARD,MASI;AACA,WAAKG,QAAL,CAAc;AAACF,QAAAA,OAAO,EAAG,IAAX;AAAgBS,QAAAA,SAAS,EAAG;AAA5B,OAAd;AACH;AACJ;;AAeDC,EAAAA,MAAM,GAAE;AACJ,UAAM;AAACnB,MAAAA,CAAD;AAAGkB,MAAAA,SAAH;AAAaT,MAAAA;AAAb,QAAsB,KAAKV,KAAjC;;AACA,QAAGmB,SAAH,EAAa;AACT,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;;AAAA,QAAGT,OAAH,EAAW;AACR,0BAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAN;AACH;;AAGD,WAAOT,CAAC,CAACoB,MAAF,GAAW,CAAX,gBAEH;AAAA,8BACI;AAAA,+BACI;AAAA,oBACK,KAAKxB,iBAAL;AADL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAMI;AAAA,kBACK,KAAKQ,eAAL;AADL;AAAA;AAAA;AAAA;AAAA,cANJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAFG,gBAaH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAbJ;AAeH;;AA/D0B;;AAkE/B,eAAeX,OAAf","sourcesContent":["import { Component, useReducer } from \"react\";\r\n\r\nclass Display extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            a: [],\r\n            isLoading:false,\r\n            isError:false \r\n        }\r\n    }\r\n    async  componentDidMount(){\r\n        this.setState({isLoading:true})\r\n        const response = await fetch('http://search.ams.usda.gov/farmersmarkets/v1/data.svc/zipSearch?zip=05828')\r\n        if(response.ok){\r\n            const b = await response.json()\r\n            \r\n            this.setState(\r\n                {\r\n                    a:b.results,isLoading:false\r\n                }\r\n                )\r\n        }\r\n        else{\r\n            this.setState({isError : true,isLaoding : false})\r\n        }\r\n    }\r\n    renderTableHeader=() => {\r\n        return Object.keys(this.state.a[0]).map(attr => <th key={attr}>{attr.toUpperCase()}</th> )\r\n        \r\n    }\r\n    renderTableRows= () => {\r\n        return this.state.a.map (result =>{\r\n            return(\r\n                <tr key={result.id}>\r\n                    <td>{result.id}</td>\r\n                    <td>{result.marketname}</td>\r\n                </tr>\r\n            )\r\n        })\r\n    }\r\n    render(){\r\n        const {a,isLaoding,isError}=this.state\r\n        if(isLaoding){\r\n            return <div>Loading.....</div>\r\n        }if(isError){\r\n            return<div>Error....</div>\r\n        }\r\n    \r\n\r\n        return a.length > 0\r\n        ?(\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        {this.renderTableHeader()}\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {this.renderTableRows()}\r\n                </tbody>\r\n            </table>\r\n        ):(\r\n            <div>No Result</div>\r\n        )\r\n    }\r\n    \r\n}\r\nexport default Display"]},"metadata":{},"sourceType":"module"}
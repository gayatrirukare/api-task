{"ast":null,"code":"var _jsxFileName = \"E:\\\\react\\\\Task1\\\\api-task\\\\src\\\\Search.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: [],\n      isLoaded: false\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://search.ams.usda.gov/farmersmarkets/v1/data.svc/zipSearch?zip=05828').then(res => res.json()).then(json => {\n      this.setState({\n        isLoaded: true,\n        items: json\n      });\n    });\n  }\n\n  render() {\n    var {\n      isLoaded,\n      items\n    } = this.state;\n\n    if (!isLoaded) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 20\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Search\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [\" \", items.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"Id:\", item.id, \" | marketName:\", item.marketname]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 25\n          }, this)), \";\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this);\n    }\n\n    {\n      /* \r\n          return (\r\n                \r\n                <div>\r\n                <div className=\"input-group mb-3\">\r\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Enter ZIP\"\r\n                     aria-label=\"Recipient's username\" aria-describedby=\"basic-addon2\"  />\r\n                    <div className=\"input-group-append\">\r\n                        <button className=\"input-group-text\" id=\"basic-addon2\" onClick={this.handleSubmit}>Zip </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n              \r\n                )\r\n      */\n    }\n  }\n\n}\n\nexport default Search;\n{\n  /*\r\n  \n     function getResults(zip) {\r\n         // or\r\n         // function getResults(lat, lng) {\r\n         $.ajax({\r\n             type: \"GET\",\r\n             contentType: \"application/json; charset=utf-8\",\r\n             // submit a get request to the restful service zipSearch or locSearch.\r\n             url: \"http://search.ams.usda.gov/farmersmarkets/v1/data.svc/zipSearch?zip=\" + zip,\r\n             // or\r\n             // url: \"http://search.ams.usda.gov/farmersmarkets/v1/data.svc/locSearch?lat=\" + lat + \"&lng=\" + lng,\r\n             dataType: 'jsonp',\r\n             jsonpCallback: 'searchResultsHandler'\r\n         });\r\n     }\r\n     //iterate through the JSON result object.\r\n     function searchResultsHandler(searchResults) {\r\n         for (var key in searchresults) {\r\n             alert(key);\r\n             var results = searchresults[key];\r\n             for (var i = 0; i < results.length; i++) {\r\n                 var result = results[i];\r\n                 for (var key in result) {\r\n                     //only do an alert on the first search result\r\n                     if (i == 0) {\r\n                         alert(result[key]);\r\n                     }\r\n                 }\r\n             }\r\n         }\r\n     }\r\n  */\n}","map":{"version":3,"sources":["E:/react/Task1/api-task/src/Search.js"],"names":["React","Component","axios","Search","constructor","props","state","items","isLoaded","componentDidMount","fetch","then","res","json","setState","render","map","item","id","marketname"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAGA,MAAMC,MAAN,SAAqBF,SAArB,CAA+B;AAE3BG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAG,EADC;AAETC,MAAAA,QAAQ,EAAG;AAFF,KAAb;AAKH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,KAAK,CAAC,2EAAD,CAAL,CACCC,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEME,IAAI,IAAI;AACV,WAAKC,QAAL,CAAc;AACVN,QAAAA,QAAQ,EAAG,IADD;AAEVD,QAAAA,KAAK,EAACM;AAFI,OAAd;AAIH,KAPD;AAQH;;AAEDE,EAAAA,MAAM,GAAE;AACJ,QAAI;AAACP,MAAAA,QAAD;AAAYD,MAAAA;AAAZ,QAAqB,KAAKD,KAA9B;;AACA,QAAG,CAACE,QAAJ,EAAa;AACT,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACH,KAFD,MAGI;AACA,0BACI;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA,+BACI;AAAA,0BAAMD,KAAK,CAACS,GAAN,CAAUC,IAAI,iBAChB;AAAA,8BACQA,IAAI,CAACC,EADb,oBAC+BD,IAAI,CAACE,UADpC;AAAA,aAAUF,IAAI,CAACC,EAAf;AAAA;AAAA;AAAA;AAAA,kBADE,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ;AAaH;;AACT;AAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGG;AAEE;;AA7D0B;;AAgE/B,eAAef,MAAf;AAIA;AAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAG","sourcesContent":["import React, { Component} from 'react'\r\nimport axios from 'axios';\r\n\r\n\r\nclass Search extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            items : [],\r\n            isLoaded : false,\r\n\r\n        }\r\n    }\r\n    \r\n    componentDidMount (){\r\n        fetch('http://search.ams.usda.gov/farmersmarkets/v1/data.svc/zipSearch?zip=05828')\r\n        .then(res => res.json())\r\n        .then(json => {\r\n            this.setState({\r\n                isLoaded : true,\r\n                items:json,\r\n            })\r\n        })\r\n    }\r\n\r\n    render(){\r\n        var {isLoaded , items} = this.state;\r\n        if(!isLoaded){\r\n            return <div>Loading</div>\r\n        }\r\n        else{\r\n            return (\r\n                <div className=\"Search\">\r\n                    <ul> {items.map(item =>(\r\n                        <li key= {item.id}>\r\n                            Id:{item.id} | marketName:{item.marketname}\r\n\r\n                        </li>\r\n                    ))};\r\n                        \r\n                    </ul>\r\n\r\n                </div>\r\n            )\r\n        }\r\n{ /* \r\n\r\n    return (\r\n            \r\n            <div>\r\n            <div className=\"input-group mb-3\">\r\n                <input type=\"text\" className=\"form-control\" placeholder=\"Enter ZIP\"\r\n                 aria-label=\"Recipient's username\" aria-describedby=\"basic-addon2\"  />\r\n                <div className=\"input-group-append\">\r\n                    <button className=\"input-group-text\" id=\"basic-addon2\" onClick={this.handleSubmit}>Zip </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        \r\n            )\r\n\r\n*/}\r\n       \r\n    }\r\n    \r\n}\r\nexport default Search\r\n\r\n\r\n\r\n{/*\r\n\r\n    function getResults(zip) {\r\n        // or\r\n        // function getResults(lat, lng) {\r\n        $.ajax({\r\n            type: \"GET\",\r\n            contentType: \"application/json; charset=utf-8\",\r\n            // submit a get request to the restful service zipSearch or locSearch.\r\n            url: \"http://search.ams.usda.gov/farmersmarkets/v1/data.svc/zipSearch?zip=\" + zip,\r\n            // or\r\n            // url: \"http://search.ams.usda.gov/farmersmarkets/v1/data.svc/locSearch?lat=\" + lat + \"&lng=\" + lng,\r\n            dataType: 'jsonp',\r\n            jsonpCallback: 'searchResultsHandler'\r\n        });\r\n    }\r\n    //iterate through the JSON result object.\r\n    function searchResultsHandler(searchResults) {\r\n        for (var key in searchresults) {\r\n            alert(key);\r\n            var results = searchresults[key];\r\n            for (var i = 0; i < results.length; i++) {\r\n                var result = results[i];\r\n                for (var key in result) {\r\n                    //only do an alert on the first search result\r\n                    if (i == 0) {\r\n                        alert(result[key]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n*/}\r\n"]},"metadata":{},"sourceType":"module"}